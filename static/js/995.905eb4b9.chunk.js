"use strict";(self.webpackChunksamana_fe=self.webpackChunksamana_fe||[]).push([[995],{8491:(e,n,l)=>{l.d(n,{A:()=>M});var i=l(8372),r=l(2435),s=l(8374),t=l(28),d=l(1428),a=l(8146),o=l(9153),c=l(1397),h=l.n(c),x=l(6663),u=l(2711),j=l(3199),p=l(8596),v=l(6069),A=l(7010),g=l(4384),f=l(9950),m=l(6772);l(3170),l(3239);function b(){return"undefined"!==typeof window&&window.innerWidth<=600}var y=l(4160),k=l(4414);function C(e){return(0,k.jsx)(y.A,{...e})}const w=e=>{let{data:n,page:l,pageSize:i,orderKey:r,order:s}=e;const t=r?h().orderBy(n,[r],[s]):n;return null!==t&&void 0!==t&&t.length?t.length<=i?t:null===t||void 0===t?void 0:t.slice((l-1)*i,l*i):[]},T=e=>{let{currentPage:n,pageSize:l,total:d,onChange:a}=e;const o=b()?4:7,c=Math.ceil(o/2),h=Math.floor(o/2),x=b()?0:2,p=(0,f.useMemo)((()=>{const e=[];if(d<=l)return[];if(d<=l*o){for(let n=1;n<=Math.ceil(d/l);n++)e.push({value:n});return e}if(n<=c){for(let n=1;n<=c;n++)e.push({value:n});e.push({value:"..."});for(let n=Math.ceil(d/l)-1;n<=Math.ceil(d/l);n++)e.push({value:n});return e}if(n>=Math.ceil(d/l)-h){e.push({value:1}),e.push({value:"...",isBack:!0});for(let n=Math.ceil(d/l)-h;n<=Math.ceil(d/l);n++)e.push({value:n});return e}e.push({value:1}),e.push({value:"...",isBack:!0});for(let l=n;l<=n+x;l++)e.push({value:l});return e.push({value:"..."}),e.push({value:Math.ceil(d/l)}),e}),[n,l,d]);return(0,k.jsxs)(i.A,{className:"Pagination-laptopUp",sx:{pt:2,gap:{xs:.5,sm:1},["& .".concat(s.A.root)]:{borderRadius:"50%"},display:d<=l?"none":"flex"},children:[(0,k.jsxs)(r.A,{size:"sm",variant:"outlined",color:"neutral",disabled:1===n,onClick:()=>{a(n-1)},children:[(0,k.jsx)(u.A,{}),(0,k.jsx)(i.A,{sx:{display:{xs:"none",sm:"initial"}},children:"Previous"})]}),(0,k.jsx)(i.A,{sx:{flex:1}}),p.map(((e,l)=>{let{value:i,isBack:r}=e;return(0,k.jsx)(t.Ay,{size:"sm",variant:Number(i)?"outlined":"plain",color:Number(i)===n?"primary":"neutral",onClick:()=>{"number"===typeof i?a(i):"..."===i&&a(r?n-1:n+1)},children:i},i+"_"+l)})),(0,k.jsx)(i.A,{sx:{flex:1}}),(0,k.jsxs)(r.A,{size:"sm",variant:"outlined",color:"neutral",disabled:!d||n===Math.ceil(d/l),onClick:()=>{a(n+1)},children:[(0,k.jsx)(i.A,{sx:{display:{xs:"none",sm:"initial"}},children:"Next"}),(0,k.jsx)(j.A,{})]})]})},S=e=>{let{data:n,filterValue:l,filterFields:i}=e;return null!==n&&void 0!==n&&n.length?l?h().filter(n,(e=>h().every(i,(n=>{const{type:i,key:r}=n,s=l[r];if(h().isEmpty(s))return!0;if("text"===i)return(0,m.Xs)(e[r],s);if("texts"===i){return(n.keys||[]).some((n=>(0,m.Xs)(e[n],s)))}var t;if("multiple-select"===i)return null===s||void 0===s||null===(t=s.includes)||void 0===t?void 0:t.call(s,e[r]);if("date"===i){if(!e[r])return!1;const n=new Date(e[r]).getTime(),l=null===s||void 0===s?void 0:s.from,i=null===s||void 0===s?void 0:s.to;if(l&&i)return n>=l&&n<=i;if(l)return n>=l;if(i)return n<=i}return!0})))):n:[]};function M(e){var n,l;let{data:r,noLoading:s=!1,columns:t,sortKeys:c,pageSize:u=50,onRowClick:j,size:m,tableActions:b,mobileTitle:y,renderSubList:M,emptyText:_="No data",showOrder:L=!0,selectable:H,selectedList:z,setSelectedList:D,fixedColumns:N=0,tableHeight:P="calc(100vh - 250px)",filterValue:B,filterFields:V}=e;const R=(0,f.useMemo)((()=>null===r||void 0===r?void 0:r.map((e=>{const n={...e};return t.forEach((l=>{l.rawValue&&(n[l.key]=l.rawValue(e))})),n}))),[r,t]),[E,F]=(0,f.useState)(1),[X,Y]=(0,f.useState)({key:null!==(n=null===c||void 0===c?void 0:c[0])&&void 0!==n?n:"",order:"desc"}),K=(0,f.useMemo)((()=>S({data:R,filterValue:B,filterFields:V})),[R,B,V]),O=(0,f.useMemo)((()=>w({data:K,page:E,pageSize:u,orderKey:X.key,order:X.order})),[K,E,u,X.key,X.order]),W=(0,f.useMemo)((()=>!(null===z||void 0===z||!z.length)&&(z.length===O.length&&h().every(z,(e=>O.some((n=>n._id===e)))))),[z,O]);(0,f.useEffect)((()=>{F(1)}),[B]);const I=!s&&!(null!==r&&void 0!==r&&r.finishLoading)&&!(null!==r&&void 0!==r&&r.length),U=(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:t.filter((e=>!e.hide)).length,style:{textAlign:"center",padding:"16px 0"},children:(0,k.jsx)(p.A,{color:"neutral"})})}),q=(0,k.jsx)("tr",{children:(0,k.jsx)("td",{colSpan:t.filter((e=>!e.hide)).length+(H?1:0)+(L?1:0),style:{textAlign:"center",padding:"16px 0"},children:(0,k.jsx)(o.Ay,{children:_})})}),G={};for(let i=0;i<N;i++)G["& tr > *:nth-child(".concat(i+1,")")]={position:"sticky",left:"".concat(40*i,"px"),bgcolor:"var(--TableCell-headBackground)"},G["& thead tr > *:nth-child(".concat(i+1,")")]={zIndex:11};return(0,k.jsxs)(v.A,{spacing:0,children:[(0,k.jsx)(A.A,{container:!0,spacing:2,sx:{my:0},children:!!b&&(0,k.jsx)(A.A,{sm:12,xs:12,children:b})}),(0,k.jsx)(d.A,{variant:"outlined",sx:{display:{xs:"none",sm:"initial"},width:"100%",borderRadius:"sm",flexShrink:1,overflow:"auto",minHeight:0,maxHeight:P},children:(0,k.jsxs)(a.A,{stickyHeader:!0,hoverRow:!0,sx:{"--TableCell-headBackground":"var(--joy-palette-background-level1)","--Table-headerUnderlineThickness":"1px","--TableRow-hoverBackground":"var(--joy-palette-background-level1)","--TableCell-paddingY":"4px","--TableCell-paddingX":"8px",...N?{...G,"& tr > *:last-child":{position:"sticky",right:0,bgcolor:"var(--TableCell-headBackground)"}}:{}},children:[(0,k.jsx)("thead",{children:(0,k.jsxs)("tr",{children:[!!H&&(0,k.jsx)("th",{style:{paddingTop:"4px",width:"40px"},onClick:e=>e.stopPropagation(),children:(0,k.jsx)(C,{checked:W,onChange:e=>(e=>{if(e){const e=O.map((e=>e._id));null===D||void 0===D||D(e)}else null===D||void 0===D||D([])})(e.target.checked)})}),!!L&&(0,k.jsx)("th",{style:{padding:"8px",width:40},children:(0,k.jsx)(o.Ay,{level:"sm"===m?"body-xs":"title-sm"})}),t.filter((e=>!e.hide)).map(((e,n)=>(0,k.jsx)("th",{style:{padding:"8px",width:e.width},children:null!==c&&void 0!==c&&c.includes(e.key)?(0,k.jsx)(o.Ay,{component:"a",style:{cursor:"pointer"},onClick:()=>{Y({key:e.key,order:"asc"===X.order?"desc":"asc"})},endDecorator:X.key===e.key?(0,k.jsx)(x.A,{}):null,sx:{"& svg":{transition:"0.2s",transform:X.key===e.key&&"desc"===X.order?"rotate(0deg)":"rotate(180deg)"}},level:"sm"===m?"body-xs":"title-sm",children:e.label}):(0,k.jsx)(o.Ay,{level:"sm"===m?"body-xs":"title-sm",children:e.label})},e.key||n)))]})}),(0,k.jsx)("tbody",{children:I?U:null!==O&&void 0!==O&&O.length?null===O||void 0===O?void 0:O.map(((e,n)=>{const l=null===M||void 0===M?void 0:M(e);return(0,k.jsxs)(f.Fragment,{children:[(0,k.jsxs)("tr",{onClick:()=>null===j||void 0===j?void 0:j(e),style:{cursor:j?"pointer":"default"},children:[!!H&&!!z&&(0,k.jsx)("td",{onClick:e=>e.stopPropagation(),children:(0,k.jsx)(C,{sx:{marginTop:"4px"},checked:z.includes(e._id),onChange:n=>((e,n)=>{if(!z)return;let l=[];l=e?[...z,n._id]:z.filter((e=>e!==n._id)),null===D||void 0===D||D(l)})(n.target.checked,e)})},"select_item"),!!L&&(0,k.jsx)("td",{children:(E-1)*u+n+1},"idx"),t.filter((e=>!e.hide)).map(((n,l)=>{var i,r;return(0,k.jsx)("td",{onClick:e=>{n.stopPropagation&&e.stopPropagation()},children:null!==(i=null===(r=n.render)||void 0===r?void 0:r.call(n,e))&&void 0!==i?i:e[n.key]},n.key+l)}))]},e._id),l&&(0,k.jsxs)("tr",{children:[(0,k.jsx)("td",{}),(0,k.jsx)("td",{colSpan:t.length-1,children:l})]})]},e.id||e._id||n)})):q})]})}),(0,k.jsxs)(v.A,{spacing:1,sx:{display:{xs:"initial",sm:"none"}},children:[!!y&&(0,k.jsx)(g.A,{children:y}),I?U:null!==O&&void 0!==O&&O.length?null===O||void 0===O?void 0:O.map(((e,n)=>(0,k.jsx)(i.A,{onClick:()=>null===j||void 0===j?void 0:j(e),style:{cursor:j?"pointer":"default"},sx:{borderRadius:"sm",border:"1px solid",borderColor:"neutral.200",p:2,"&:hover":{borderColor:"primary.main"}},children:(0,k.jsx)(A.A,{container:!0,spacing:1,children:t.filter((e=>!e.hide)).map(((n,l)=>{var r,s;return(0,k.jsx)(A.A,{xs:12,children:(0,k.jsxs)(i.A,{children:[(0,k.jsx)(o.Ay,{color:"neutral",level:"body-sm",children:n.label}),(0,k.jsx)(i.A,{children:null!==(r=null===(s=n.render)||void 0===s?void 0:s.call(n,e))&&void 0!==r?r:(0,k.jsx)(o.Ay,{children:e[n.key]})})]})},n.key||l)}))},e._id)},e._id||e.id||n))):q]}),(0,k.jsx)(T,{currentPage:E,pageSize:u,total:null!==(l=null===K||void 0===K?void 0:K.length)&&void 0!==l?l:0,onChange:e=>F(e)})]})}},9906:(e,n,l)=>{l.d(n,{A:()=>p});var i=l(8372),r=l(9153),s=l(8862),t=l(8376),d=l(5833),a=l(8170),o=l(1350),c=l(7750),h=l(9950),x=l(3170),u=l(3239),j=l(4414);function p(e){let{pageName:n,pageLeftAction:l,children:d,pageAction:a,breadcrumb:o,skeletonLoading:c,tabs:p,tab:A,onChangeTab:g}=e;const f=(0,x.jL)();return(0,h.useEffect)((()=>{f((0,u.Wd)(o||null))}),[o]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(s.A,{sx:{background:"var(--joy-palette-primary)",maxHeight:o?"calc(100vh - 100px)":"calc(100vh - 180px)"},children:[(0,j.jsxs)(i.A,{sx:{display:"flex",gap:1,alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:[l||(0,j.jsx)(r.Ay,{level:"body-md",children:(0,j.jsx)("b",{children:n})}),a]}),(0,j.jsx)(t.A,{}),null!==p&&void 0!==p&&p.length?p?c||(0,j.jsx)(v,{tabs:p,onChangeTab:g,tab:A}):null:(0,j.jsx)(i.A,{sx:{minHeight:0,overflow:"hidden auto",flexGrow:1,display:"flex",flexDirection:"column",pb:1,"&::-webkit-scrollbar":{display:"none"},"-ms-overflow-style":"none","scrollbar-width":"none"},children:c||d})]},"wrapper")})}function v(e){let{tabs:n,onChangeTab:l,tab:i}=e;const[r,s]=(0,h.useState)(n[0]);return(0,h.useEffect)((()=>{if(i){const e=n.find((e=>e.label===i))||n[0];s(e),null===l||void 0===l||l(e.label)}}),[i]),(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(d.A,{sx:{marginX:-2,marginTop:"-0.74rem",overflow:"hidden auto",background:"var(--joy-palette-primary)"},value:r.label,onChange:(e,i)=>{const r=n.find((e=>e.label===i))||n[0];s(r),null===l||void 0===l||l(r.label)},children:[(0,j.jsx)(a.A,{variant:"soft",children:n.map((e=>(0,j.jsx)(o.A,{value:e.label,children:e.label},e.label)))}),n.map((e=>(0,j.jsx)(c.A,{value:e.label,sx:{overflow:"hidden auto"},children:e.renderContent?e.renderContent():e.content},e.label)))]})})}},3995:(e,n,l)=>{l.r(n),l.d(n,{default:()=>k});var i=l(1428),r=l(8146),s=l(7010),t=l(5668),d=l(4384),a=l(8301),o=l(5833),c=l(8170),h=l(1350),x=l(7750),u=l(1406),j=l(8491),p=l(9906),v=l(1397),A=l.n(v),g=l(9950),f=l(7221),m=l(6772),b=l(4414);const y=e=>{let{form:n}=e;const[l,u]=(0,g.useState)(0),j=n.info;return(0,b.jsxs)(o.A,{"aria-label":"Basic tabs",defaultValue:0,value:l,onChange:(e,n)=>{u(Number(n))},sx:{".Mui-selected":{backgroundColor:"transparent !important"}},children:[(0,b.jsxs)(c.A,{sx:{"--joy-palette-background-surface":"#f1e3d6"},children:[(0,b.jsx)(h.A,{color:0===l?"primary":void 0,children:"Th\xe0nh vi\xean"}),(0,b.jsx)(h.A,{color:1===l?"primary":void 0,children:"Ti\u1ebft m\u1ee5c"}),(0,b.jsx)(h.A,{color:2===l?"primary":void 0,children:"Th\xf4ng tin th\xeam"})]}),(0,b.jsx)(x.A,{value:0,children:(0,b.jsx)(i.A,{sx:{maxHeight:"50vh",overflowY:"auto",overflowX:"hidden"},children:(0,b.jsxs)(r.A,{sx:{"--TableCell-cornerRadius":"0px"},borderAxis:"both",stickyHeader:!0,"aria-label":"table variants",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{width:50},children:"STT"}),(0,b.jsx)("th",{children:"Th\xf4ng tin c\xe1 nh\xe2n"}),(0,b.jsx)("th",{children:"Th\xf4ng tin \u0111\u01a1n v\u1ecb"}),(0,b.jsx)("th",{style:{width:140},children:"H\xecnh \u1ea3nh"})]})}),(0,b.jsx)("tbody",{children:j.members.map(((e,n)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:n+1}),(0,b.jsx)("td",{children:(0,b.jsxs)(s.A,{container:!0,spacing:2,children:[(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"T\xean"}),e.ten]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),e.sdt]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Email"}),e.email]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Vai tr\xf2"}),e.vaiTro]})})]})}),(0,b.jsx)("td",{children:(0,b.jsxs)(s.A,{container:!0,spacing:2,children:[(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"\u0110\u01a1n v\u1ecb"}),e.donVi]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Ph\xf2ng ban"}),e.phongBan]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Ch\u1ee9c danh"}),e.chucDanh]})})]})}),(0,b.jsx)("td",{children:(0,b.jsx)(a.A,{variant:"soft",size:"lg",sx:{width:120,height:120},src:e.avatar||void 0})})]})))})]})})}),(0,b.jsx)(x.A,{value:1,children:(0,b.jsx)(i.A,{sx:{maxHeight:"50vh",overflowY:"auto",overflowX:"hidden"},children:(0,b.jsxs)(r.A,{sx:{"--TableCell-cornerRadius":"0px"},borderAxis:"both",stickyHeader:!0,"aria-label":"table variants",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{style:{width:120},children:"Ti\u1ebft m\u1ee5c"}),(0,b.jsx)("th",{children:"Th\xf4ng tin ti\u1ebft m\u1ee5c"}),(0,b.jsx)("th",{children:"Y\xeau c\u1ea7u v\u1edbi ban t\u1ed5 ch\u1ee9c"})]})}),(0,b.jsx)("tbody",{children:j.tietmucList.map(((e,n)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:e.id}),(0,b.jsx)("td",{children:(0,b.jsxs)(s.A,{container:!0,spacing:2,children:[(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Ph\xf2ng ban"}),e.ten]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Lo\u1ea1i h\xecnh"}),e.loaiHinh]})}),"Thanh l\u1ecbch"!==e.id&&(0,b.jsx)(s.A,{xs:6,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Ch\u1ee7 \u0111\u1ec1"}),e.chuDe]})}),(0,b.jsx)(s.A,{xs:6,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"S\u1ed1 th\xe0nh vi\xean"}),e.soLuongThanhVien]})})]})}),(0,b.jsx)("td",{children:(0,b.jsxs)(s.A,{container:!0,spacing:2,children:[(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"\xc2m thanh"}),e.amThanh]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"\xc1nh s\xe1ng"}),e.anhSang]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"\u0110\u1ea1o c\u1ee5"}),e.daoCu]})})]})})]},e.id)))})]})})}),(0,b.jsx)(x.A,{value:2,children:(0,b.jsxs)(s.A,{container:!0,spacing:2,children:[(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Logan \u0111\u1ed9i"}),j.logan]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"C\u1ea3m ngh\u0129 v\u1ec1 cu\u1ed9c thi"}),j.camNghi]})}),(0,b.jsx)(s.A,{xs:12,children:(0,b.jsxs)(t.A,{children:[(0,b.jsx)(d.A,{children:"Video gi\u1edbi thi\u1ec7u, h\u1eadu tr\u01b0\u1eddng chu\u1ea9n b\u1ecb..."}),(0,b.jsx)("a",{target:"_blank",href:j.videoCuaTapThe,rel:"noreferrer",onClick:e=>{e.stopPropagation()},children:j.videoCuaTapThe})]})})]})})]})};function k(){var e;const[n,l]=(0,g.useState)([]),[i,r]=(0,g.useState)();return(0,g.useEffect)((()=>{(0,f.W2)({}).then((e=>{A().forEach(e.data,(e=>{try{e.info=JSON.parse(e.info)}catch(n){console.error(n)}})),l(e.data||[])}))}),[]),(0,b.jsxs)(p.A,{pageName:"Danh s\xe1ch form \u0111\u0103ng k\xfd",children:[(0,b.jsx)(j.A,{noLoading:!0,showOrder:!1,data:n,columns:[{key:"id",label:"ID",width:90,render:e=>{var n;return null===(n=e.info)||void 0===n?void 0:n.maDoi}},{key:"tenDoi",label:"T\xean \u0111\u1ed9i",width:150},{key:"createdAt",label:"Ng\xe0y t\u1ea1o",render:e=>(0,m.Yq)(e.createdAt,!0),width:90}],sortKeys:[],onRowClick:e=>{r(e)}}),!!i&&(0,b.jsx)(u.A,{title:"".concat(i.tenDoi," - ").concat(null===(e=i.info)||void 0===e?void 0:e.maDoi),isOpen:!0,onClose:()=>r(void 0),width:1e3,children:(0,b.jsx)(y,{form:i})})]})}}}]);